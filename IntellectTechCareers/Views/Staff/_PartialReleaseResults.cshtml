@model IntellectTechCareers.Models.ResultModel

<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

@*@using (Html.BeginForm()) *@
@{
    string postController = @ViewBag.Controller;
}
@using (Html.BeginForm("ReleaseResults", postController, FormMethod.Post))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>ResultModel</legend>

        <div class="editor-label">
            <h3>Releasing Results</h3>
            @Html.Label("For Job - ["+Model.JobId+"] "+Model.JobDesc)
            @Html.HiddenFor(model => model.JobId)
            @Html.HiddenFor(model => model.JobDesc)
            @Html.HiddenFor(model => model.Vacancies)
        </div>
        <br />
        @if (Model.Candidates.Count > 0)
        {
            <div class="editor-label">
                @Html.Label("Slect Candidates : ")

                <table class="select-table">
                    <tr>
                        <th></th>
                        <th>
                            @Html.DisplayNameFor(model => model.Candidates[0].UserID)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Candidates[0].Username)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Candidates[0].Name)
                        </th>
                    </tr>

                    @for (int i = 0; i < Model.Candidates.Count; i++)
                    {
                        <tr>
                            <td>
                                @Html.HiddenFor(model => model.Candidates[i].UserID)
                                @Html.HiddenFor(model => model.Candidates[i].Name)
                                @Html.HiddenFor(model => model.Candidates[i].Username)
                                @Html.CheckBoxFor(model => model.Candidates[i].IsSelected, Model.Candidates[i].UserID)
                            </td>
                            <td>
                                @Html.Label(Model.Candidates[i].UserID.ToString())
                            </td>
                            <td>
                                @Html.Label(Model.Candidates[i].Username.ToString())
                            </td>
                            <td>
                                @Html.Label(Model.Candidates[i].Name.ToString())
                            </td>
                        </tr>
                    }
                </table>
            </div>
        }
        <p>
            <input type="submit" value="Release" />
        </p>
    </fieldset>
}
